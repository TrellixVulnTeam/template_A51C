{"version":3,"file":"index.es.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react'\r\nimport crypto from 'crypto'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport styleFile from './styles.css'\r\n\r\nfunction utf8_to_b64(str) {\r\n  return window.btoa(unescape(encodeURIComponent(str)))\r\n}\r\n\r\nfunction b64_to_utf8(str) {\r\n  return decodeURIComponent(escape(window.atob(str)))\r\n}\r\n\r\nconst LiqPayPay = ({\r\n  publicKey,\r\n  privateKey,\r\n  amount,\r\n  currency = 'UAH',\r\n  description = 'test',\r\n  orderId = Math.floor(1 + Math.random() * 900000000),\r\n  title = 'Payment',\r\n  style,\r\n  ...props\r\n}) => {\r\n  const jsonString = {\r\n    public_key: publicKey,\r\n    version: '3',\r\n    action: 'pay',\r\n    amount: amount,\r\n    currency: currency,\r\n    description: description,\r\n    order_id: orderId,\r\n    ...props\r\n  }\r\n\r\n  const data = utf8_to_b64(JSON.stringify(jsonString))\r\n  const signString = privateKey + data + privateKey\r\n  const sha1 = crypto.createHash('sha1')\r\n  sha1.update(signString)\r\n  const signature = sha1.digest('base64')\r\n\r\n  return (\r\n    <form\r\n      method='POST' action='https://www.liqpay.ua/api/3/checkout'\r\n      acceptCharset='utf-8'\r\n      style={{ ...style }}\r\n    >\r\n      <input\r\n        type='hidden' name='data' value={data}\r\n      />\r\n      <input type='hidden' name='signature' value={signature} />\r\n      <button className={styleFile.buttonSubmit}>\r\n        <img\r\n          src='https://static.liqpay.ua/buttons/logo-small.png' name='btn_text'\r\n        />\r\n        <span>{title} {amount} {currency}</span>\r\n      </button>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst LiqPaySubscribe = ({\r\n  publicKey,\r\n  privateKey,\r\n  amount,\r\n  subscribePeriodicity = 'month',\r\n  currency = 'UAH',\r\n  description = 'test',\r\n  orderId = Math.floor(1 + Math.random() * 900000000),\r\n  title = 'Subscribe',\r\n  style,\r\n  ...props\r\n}) => {\r\n  const jsonString = {\r\n    public_key: publicKey,\r\n    version: '3',\r\n    action: 'subscribe',\r\n    subscribe_date_start: Date.now(),\r\n    subscribe_periodicity: subscribePeriodicity,\r\n    amount: amount,\r\n    currency: currency,\r\n    description: description,\r\n    order_id: orderId,\r\n    ...props\r\n  }\r\n\r\n  const data = utf8_to_b64(JSON.stringify(jsonString))\r\n  const signString = privateKey + data + privateKey\r\n\r\n  const sha1 = crypto.createHash('sha1')\r\n  sha1.update(signString)\r\n  const signature = sha1.digest('base64')\r\n\r\n  return (\r\n    <form\r\n      method='POST' action='https://www.liqpay.ua/api/3/checkout'\r\n      acceptCharset='utf-8'\r\n      style={{ ...style }}\r\n    >\r\n      <input\r\n        type='hidden' name='data' value={data}\r\n      />\r\n      <input type='hidden' name='signature' value={signature} />\r\n      <button className={styleFile.buttonSubmit}>\r\n        <img\r\n          src='https://static.liqpay.ua/buttons/logo-small.png' name='btn_text'\r\n        />\r\n        <span>{title} {amount} {currency}</span>\r\n      </button>\r\n    </form>\r\n  )\r\n}\r\n\r\nLiqPayPay.propTypes = {\r\n  publicKey: PropTypes.string.isRequired,\r\n  privateKey: PropTypes.string.isRequired,\r\n  currency: PropTypes.string.isRequired,\r\n  amount: PropTypes.string.isRequired,\r\n  description: PropTypes.string.isRequired,\r\n  orderId: PropTypes.any.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  style: PropTypes.string\r\n}\r\n\r\nLiqPaySubscribe.propTypes = {\r\n  publicKey: PropTypes.string.isRequired,\r\n  privateKey: PropTypes.string.isRequired,\r\n  currency: PropTypes.string.isRequired,\r\n  amount: PropTypes.string.isRequired,\r\n  subscribePeriodicity: PropTypes.string.isRequired,\r\n  description: PropTypes.string.isRequired,\r\n  orderId: PropTypes.any.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  style: PropTypes.string\r\n}\r\n\r\nexport { LiqPayPay, LiqPaySubscribe }\r\n"],"names":["utf8_to_b64","str","window","btoa","unescape","encodeURIComponent","LiqPayPay","publicKey","privateKey","amount","currency","description","orderId","Math","floor","random","title","style","props","jsonString","public_key","version","action","order_id","data","JSON","stringify","signString","sha1","crypto","createHash","update","signature","digest","styleFile","buttonSubmit","LiqPaySubscribe","subscribePeriodicity","subscribe_date_start","Date","now","subscribe_periodicity","propTypes","PropTypes","string","isRequired","any"],"mappings":"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"}